# ğŸš— GariBhara â€” Vehicle Rental System (Backend API)

A production-grade, modular Vehicle Rental System built using **Node.js**, **TypeScript**, **Express.js**, and **PostgreSQL**. Includes robust authentication, layered architecture, and scalable modules for real-world production use.

ğŸ”— **GitHub Repository:** [https://github.com/Abir-Ahmed-Faysal/gariLagbe-server](https://github.com/Abir-Ahmed-Faysal/gariLagbe-server)
ğŸ”— **Live Deployment:** [https://gari-bhara-server.vercel.app/](https://gari-bhara-server.vercel.app/)

---

## ğŸŒŸ Features

| Module                 | Capabilities                                             |
| ---------------------- | -------------------------------------------------------- |
| **User Management**    | Signup, Login, Profile Update, Admin Controls            |
| **Vehicle Management** | CRUD Operations, Availability Status, Validations        |
| **Booking Management** | Price Calculation, Booking Lifecycle, Availability Check |
| **Security**           | JWT Auth, Password Hashing, Role-Based Access            |

---

## ğŸ—ï¸ Tech Stack

* **Node.js + TypeScript**
* **Express.js**
* **PostgreSQL**
* **bcrypt** (password hashing)
* **jsonwebtoken** (JWT authentication)

---

## ğŸ“ Project Structure

```
src/
â”‚â”€â”€ modules/
â”‚   â”œâ”€â”€ auth/
â”‚   â”œâ”€â”€ users/
â”‚   â”œâ”€â”€ vehicles/
â”‚   â””â”€â”€ bookings/
â”‚
â”‚â”€â”€ middleware/
â”‚â”€â”€ utilities/
â”‚â”€â”€ routes/
â”‚â”€â”€ server.ts
â”‚â”€â”€ app.ts
```

âœ” Layered architecture (Controllers â†’ Services â†’ DB Layer)
âœ” Feature-based module separation
âœ” Highly scalable and maintainable

---

## ğŸ§© Database Schema

### ğŸ‘¤ Users Table

| Column   | Details               |
| -------- | --------------------- |
| id       | Primary Key           |
| name     | Required              |
| email    | Unique, lowercase     |
| password | Bcrypted              |
| phone    | Required              |
| role     | `admin` or `customer` |

---

### ğŸš— Vehicles Table

| Column              | Details               |
| ------------------- | --------------------- |
| id                  | Primary Key           |
| vehicle_name        | Required              |
| type                | `car`, `bike`, etc.   |
| registration_number | Unique                |
| daily_rent_price    | Positive Number       |
| availability_status | `available`, `booked` |

---

### ğŸ“… Bookings Table

| Column          | Details                            |
| --------------- | ---------------------------------- |
| id              | Primary Key                        |
| customer_id     | FK â†’ Users                         |
| vehicle_id      | FK â†’ Vehicles                      |
| rent_start_date | Required                           |
| rent_end_date   | End > Start                        |
| total_price     | Calculated                         |
| status          | `active`, `completed`, `cancelled` |

---

## ğŸ” Roles & Permissions

| Feature             | Admin | Customer |
| ------------------- | ----- | -------- |
| Sign Up / Login     | âœ”     | âœ”        |
| View Vehicles       | âœ”     | âœ”        |
| Create Booking      | âœ”     | âœ”        |
| Manage All Users    | âœ”     | âœ˜        |
| Manage All Bookings | âœ”     | âœ˜        |
| Update Own Profile  | âœ”     | âœ”        |

---

## ğŸ”‘ Authentication Flow

1. User logs in â†’ JWT token issued
2. Client sends Authorization Header:

   ```
   Authorization: Bearer <token>
   ```
3. Middleware validates token
4. Role-based access granted

---

## ğŸŒ API Endpoints

### ğŸ” Auth

| Method | Endpoint              | Access |
| ------ | --------------------- | ------ |
| POST   | `/api/v1/auth/signup` | Public |
| POST   | `/api/v1/auth/signin` | Public |

---

### ğŸš— Vehicles

| Method | Endpoint                      | Access |
| ------ | ----------------------------- | ------ |
| POST   | `/api/v1/vehicles`            | Admin  |
| GET    | `/api/v1/vehicles`            | Public |
| GET    | `/api/v1/vehicles/:vehicleId` | Public |
| PUT    | `/api/v1/vehicles/:vehicleId` | Admin  |
| DELETE | `/api/v1/vehicles/:vehicleId` | Admin  |

---

### ğŸ‘¤ Users

| Method | Endpoint                | Access       |
| ------ | ----------------------- | ------------ |
| GET    | `/api/v1/users`         | Admin        |
| PUT    | `/api/v1/users/:userId` | Admin or Own |
| DELETE | `/api/v1/users/:userId` | Admin        |

---

### ğŸ“… Bookings

| Method | Endpoint                      | Access         |
| ------ | ----------------------------- | -------------- |
| POST   | `/api/v1/bookings`            | Customer/Admin |
| GET    | `/api/v1/bookings`            | Role-based     |
| PUT    | `/api/v1/bookings/:bookingId` | Role-based     |

---

## ğŸ§  Business Logic Summary

| Scenario                    | System Behavior       |
| --------------------------- | --------------------- |
| Booking created             | Vehicle â†’ `booked`    |
| Booking cancelled           | Vehicle â†’ `available` |
| Booking returned            | Vehicle â†’ `available` |
| End date passed             | Auto return logic     |
| User has active bookings    | Cannot delete user    |
| Vehicle has active bookings | Cannot delete vehicle |

---

## ğŸ“š Documentation Files

| File                  | Purpose                   |
| --------------------- | ------------------------- |
| `README.md`           | Project overview          |
| `API_REFERENCE.md`    | Endpoint rules + examples |
| `SUBMISSION_GUIDE.md` | Reviewer instructions     |

---

## âš¡ Response Format

### âœ” Success

```json
{
  "success": true,
  "message": "Operation successful",
  "data": {}
}
```

### âŒ Error

```json
{
  "success": false,
  "message": "Error message",
  "errors": {}
}
```

